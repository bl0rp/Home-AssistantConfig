## Thanks to @daleh
##https://github.com/dale3h/homeassistant-config/blob/9462bf05773a096bbd27b8d88169c3f042c0a422/packages/curl.yaml
alias: Curl Test 2


trigger:
  platform: mqtt
  topic: 'sensor_esp8266_05/pir/motion'
  payload: '1'
action:
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,clear"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,on"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,1,1,Temperatur"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,2,1,in der ELW:"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,4,1,Temperatur DHT"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,5,1,{{ states('sensor.temperatur_esp8266_02') }}@C"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,7,1,Temperatur zwave:"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,8,1,{{ states('sensor.aeotec_zw100_multisensor_6_temperature_2_1') }}@C"
  - delay: 00:00:05
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,off"