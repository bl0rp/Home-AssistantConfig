alias: mqtt2oled
trigger:
  platform: mqtt
  topic: 'sensor_esp8266_06/flash/flash'
  payload: '1'
action:
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,clear"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,on"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,1,1,Du hast"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,2,1,den flash button gedrueckt"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,4,1,woooohooo"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,5,1,=))))"
  - delay: 00:00:05
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,clear"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,on"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,1,1,Temperatur"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,2,1,in der ELW:"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,4,1,Temperatur DHT"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,5,1,{{ states('sensor.temperatur_esp8266_02') }}C"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,7,1,Temperatur zwave:"
      
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oled,8,1,{{ states('sensor.aeotec_zw100_multisensor_6_temperature_2_1') }}C"
  - delay: 00:00:05
  - service: mqtt.publish
    data_template:
      topic: "sensor_esp8266_06/cmd"
      retain: false
      payload: "oledcmd,off"

