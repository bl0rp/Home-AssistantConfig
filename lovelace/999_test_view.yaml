title: test
path: test
icon: mdi:test-tube
panel: true
cards:


- type: custom:layout-card
  layout: vertical
  cards:

    - type: custom:auto-entities
      show_empty: false
      card:
        type: glance
        title: Lights off
      filter:
        include:
          - domain: light
            state: "off" # Remember that "on" and "off" are magic in yaml, and must always be quoted
            options:
              tap_action:
                action: toggle
    - type: custom:auto-entities
      show_empty: true
      card:
        type: entities
        title: broken
      filter:
        include:
          - state: "unknown"
        exclude:
          - entity_id: group.*



    - type: entities
      title: Folding groups
      entities:
        - type: custom:fold-entity-row
          head: group.all_lights
        - type: custom:fold-entity-row
          head: group.all_scripts
        - type: custom:fold-entity-row
          head: group.all_automations

    # - type: custom:auto-entities
    #   card:
    #     type: glance
    #   filter:
    #     exclude: [{}]
    #     include:
    #       - entity_id: "*yweather*"
    #       - domain: group
    #       - domain: zone
    - type: custom:auto-entities
      show_empty: false
      card:
        type: glance
        title: Lights on
      filter:
        include:
          - domain: light
            state: "on" # Remember that "on" and "off" are magic in yaml, and must always be quoted
            options:
              tap_action:
                action: toggle
    - type: custom:auto-entities
      show_empty: false
      card:
        type: glance
        title: Lights off
      filter:
        include:
          - domain: light
            state: "off" # Remember that "on" and "off" are magic in yaml, and must always be quoted
            options:
              tap_action:
                action: toggle
    - type: entities
      title: Combination
      entities:
        - type: custom:auto-entities
          card:
            type: custom:fold-entity-row
            head:
              type: section
              label: All lights
          filter:
            include:
              - domain: light
        - type: custom:auto-entities
          card:
            type: custom:fold-entity-row
            head:
              type: section
              label: Lights that are on
          filter:
            include:
              - domain: light
                state: "on"
        - type: custom:auto-entities
          card:
            type: custom:fold-entity-row
            head:
              type: section
              label: Lights that are dimmed below 50%
          filter:
            include:
              - domain: light
                attributes:
                  brightness: "< 125"
        - type: custom:auto-entities
          card:
            type: custom:fold-entity-row
            head:
              type: section
              label: Lights that are kinda blue-ish
          filter:
            include:
              - domain: light
                attributes:
                  hs_color 1: "0:> 195"
                  hs_color 2: "0:< 255"
    - type: custom:tracker-card
    - type: markdown
      title: TEST
      content: >
        **Oink**
    - type: markdown
      title: Test2
      content: >
        **Oin22323k**

    - type: history-graph
      title: 'Load 6h'
      hours_to_show: 6
      entities:
       - entity: sensor.load_1m
         name: 1m
       - entity: sensor.load_5m
         name: 5m
    - break
    - type: custom:bar-card
      title: Load1m
      min: 0
      max: 4.0
      entity: sensor.load_1m
      severity:
      - value: 0.1
        hue: '100'
      - value: 0.2
        hue: '100'
      - value: 0.3
        hue: '100'
      - value: 0.4
        hue: '80'
      - value: 0.5
        hue: '80'
      - value: 0.6
        hue: '30'
      - value: 0.7
        hue: '20'
      - value: 0.8
        hue: '360'
      - value: 0.9
        hue: '360'
      - value: 1.0
        hue: '360'
      - value: 1.1
        hue: '360'
      - value: 1.2
        hue: '360'
      - value: 1.3
        hue: '360'
      - value: 1.4
        hue: '360'
      - value: 1.5
        hue: '360'
      - value: 1.6
        hue: '360'
      - value: 1.7
        hue: '360'
      - value: 1.8
        hue: '360'
      - value: 1.9
        hue: '360'
      - value: 2.0
        hue: '360'
      - value: 4.0
        hue: '360'

    - type: entities
      title: Severity Test2
      entities:
      - entity: input_number.severity
      - entity: input_number.load_sim
      - entity: sensor.load_1m
        secondary_info: last-changed
      - type: custom:bar-card
        title: Severity Test2
        min: 0
        max: 360
        entity: input_number.severity
        severity:
        - value: 0
          hue: '0'
        - value: 10
          hue: '10'
        - value: 20
          hue: '20'
        - value: 30
          hue: '30'
        - value: 40
          hue: '40'
        - value: 50
          hue: '50'
        - value: 60
          hue: '60'
        - value: 70
          hue: '70'
        - value: 80
          hue: '80'
        - value: 90
          hue: '90'
        - value: 100
          hue: '100'
        - value: 110
          hue: '110'
        - value: 120
          hue: '120'
        - value: 130
          hue: '130'
        - value: 140
          hue: '140'
        - value: 150
          hue: '150'
        - value: 160
          hue: '160'
        - value: 170
          hue: '170'
        - value: 180
          hue: '180'
        - value: 190
          hue: '190'
        - value: 200
          hue: '200'
        - value: 210
          hue: '210'
        - value: 220
          hue: '220'
        - value: 230
          hue: '230'
        - value: 240
          hue: '240'
        - value: 250
          hue: '250'
        - value: 260
          hue: '260'
        - value: 270
          hue: '270'
        - value: 280
          hue: '280'
        - value: 290
          hue: '290'
        - value: 300
          hue: '300'
        - value: 310
          hue: '310'
        - value: 320
          hue: '320'
        - value: 330
          hue: '330'
        - value: 340
          hue: '340'
        - value: 350
          hue: '350'
        - value: 360
          hue: '360'
      - type: custom:bar-card
        title: LoadSim
        min: 0
        max: 4.0
        entity: input_number.load_sim
        severity:
        - value: 0.1
          hue: '100'
        - value: 0.2
          hue: '100'
        - value: 0.3
          hue: '100'
        - value: 0.4
          hue: '80'
        - value: 0.5
          hue: '80'
        - value: 0.6
          hue: '30'
        - value: 0.7
          hue: '20'
        - value: 0.8
          hue: '360'
        - value: 0.9
          hue: '360'
        - value: 1.0
          hue: '360'
        - value: 1.1
          hue: '360'
        - value: 1.2
          hue: '360'
        - value: 1.3
          hue: '360'
        - value: 1.4
          hue: '360'
        - value: 1.5
          hue: '360'
        - value: 1.6
          hue: '360'
        - value: 1.7
          hue: '360'
        - value: 1.8
          hue: '360'
        - value: 1.9
          hue: '360'
        - value: 2.0
          hue: '360'
        - value: 4.0
          hue: '360'


    - type: history-graph
      title: 'sonoff load pc Monitore'
      hours_to_show: 24
      entities:
       - entity: sensor.sonoff1_momentane_leistung
         name: Monitore
       - entity: sensor.sonoff2_momentane_leistung
         name: WKS
    - type: history-graph
      title: 'sonoff load waschk√ºche'
      hours_to_show: 24
      entities:
       - entity: sensor.sonoff3_momentane_leistung
         name: Waschmaschine
       - entity: sensor.sonoff5_momentane_leistung
         name: Trockner
    - type: history-graph
      title: 'sonoff load KA'
      hours_to_show: 24
      entities:
       - entity: sensor.sonoff4_momentane_leistung
         name: WKS
       - entity: sensor.sonoff6_momentane_leistung
         name: WKS
       - entity: sensor.sonoff7_momentane_leistung
         name: WKS
       - entity: sensor.sonoff8_momentane_leistung
         name: WKS
    - break
    #sonoff1
    - type: conditional
      conditions:
        - entity: binary_sensor.sonoff1_state
          state: "off"
      card:
        type: entities
        title: '#1 Monitore'
        show_header_toggle: false
        entities:
          - entity: binary_sensor.sonoff1_state
    - type: conditional
      conditions:
        - entity: binary_sensor.sonoff1_state
          state: "on"
      card:
        type: entities
        entities:
          - type: custom:vertical-stack-in-card
            title: '#1 Monitore'
            cards:
              - type: entities
                entities:
                  - entity: switch.sonoff1
                  - entity: sensor.sonoff1_ipv4
                  - entity: sensor.sonoff1_uptime
                  - entity: sensor.sonoff1_use
                  - entity: sensor.sonoff1_momentane_leistung
                  - entity: input_boolean.extend_info_sonoff1
                    icon: mdi:menu-down-outline
                    name: Details
              - type: conditional
                conditions:
                  - entity: input_boolean.extend_info_sonoff1
                    state: "on"
                card:
                  type: entities
                  entities:
                    - entity: sensor.sonoff1_spannung
                    - entity: sensor.sonoff1_stromstaerke
                    - entity: sensor.sonoff1_max_load
                    - entity: sensor.sonoff1_verbrauch_heute
                    - entity: sensor.sonoff1_verbrauch_gestern
                    - entity: sensor.sonoff1_gesamtverbrauch
                    - entity: sensor.sonoff1_kosten_heute
                    - entity: sensor.sonoff1_kosten_gestern
                    - entity: sensor.sonoff1_kosten_gesamt
                    - entity: script.del_sonoff1_power_log


    #sonoff8
    - type: conditional
      conditions:
        - entity: binary_sensor.sonoff8_state
          state: "off"
      card:
        type: entities
        title: '#8 Schreibtisch'
        show_header_toggle: false
        entities:
          - entity: binary_sensor.sonoff8_state
    - type: conditional
      conditions:
        - entity: binary_sensor.sonoff8_state
          state: "on"
      card:
        type: entities
        entities:
          - type: custom:vertical-stack-in-card
            title: '#8 Schreibtisch'
            cards:
              - type: entities
                entities:
                  - entity: switch.sonoff8
                  - entity: sensor.sonoff8_ipv4
                  - entity: sensor.sonoff8_uptime
                  - entity: sensor.sonoff8_use
                  - entity: sensor.sonoff8_momentane_leistung
                  - entity: input_boolean.extend_info_sonoff8
                    icon: mdi:menu-down-outline
                    name: Details
              - type: conditional
                conditions:
                  - entity: input_boolean.extend_info_sonoff8
                    state: "on"
                card:
                  type: entities
                  entities:
                    - entity: sensor.sonoff8_spannung
                    - entity: sensor.sonoff8_stromstaerke
                    - entity: sensor.sonoff8_max_load
                    - entity: sensor.sonoff8_verbrauch_heute
                    - entity: sensor.sonoff8_verbrauch_gestern
                    - entity: sensor.sonoff8_gesamtverbrauch
                    - entity: sensor.sonoff8_kosten_heute
                    - entity: sensor.sonoff8_kosten_gestern
                    - entity: sensor.sonoff8_kosten_gesamt
                    - entity: script.del_sonoff8_power_log
